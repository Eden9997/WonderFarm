<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>Wonder Farm</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400;500;600;700&family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
</head>
<body>
    <!-- M√†n h√¨nh loading -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-logo"></div>
        <div class="loading-progress-container">
            <div id="loading-progress-bar" class="loading-progress-bar"></div>
        </div>
        <div id="loading-text" class="loading-text">ƒêang kh·ªüi ƒë·ªông Wonder Farm...</div>
        <div class="loading-tips" id="loading-tip">M·∫πo: Thu ho·∫°ch c√¢y li√™n t·ª•c ƒë·ªÉ nh·∫≠n th√™m ƒëi·ªÉm combo!</div>
    </div>

    <div class="game-container">
        <div class="game-header">
            <div class="avatar-container" id="character-avatar">
                <img src="img/Character/Character_base.png" class="character-avatar" alt="Avatar">
            </div>
            <div class="currency-display">
                <span class="coin-icon">ü™ô</span>
                <span id="player-money">0</span>
            </div>
            <div class="header-buttons">
                <div class="header-button" id="show-shop" title="C·ª≠a h√†ng">üõí</div>
                <div class="header-button" id="show-quests" title="Nhi·ªám v·ª• h√†ng ng√†y">üìã</div>
                <div class="header-button" id="show-leaderboard" title="B·∫£ng x·∫øp h·∫°ng">üèÖ</div>
                <div class="header-button" id="show-achievements" title="Th√†nh t·ª±u">üèÜ</div>
            </div>
        </div>
        <div class="game-background">
            <div class="farm-character-container">
                <div id="farm-character" class="farm-character">
                    <div id="farm-character-preview" class="farm-character-preview">
                        <!-- Th√™m b√≥ng ƒë·ªï cho nh√¢n v·∫≠t -->
                        <div class="farm-character-shadow"></div>
                        
                        <div class="character-sprite-sheet character-base-sprite farm-animated"></div>
                        
                        <!-- Trang b·ªã c∆° b·∫£n -->
                        <div class="character-sprite-sheet aprons-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet boots-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet gloves-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet hat-sprite farm-animated" style="display:none;"></div>
                        
                        <!-- Trang b·ªã c√°nh -->
                        <div class="character-sprite-sheet wings-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet blackWings-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet whiteWings-sprite farm-animated" style="display:none;"></div>
                        
                        <!-- C√°c trang b·ªã m≈© m·ªõi -->
                        <div class="character-sprite-sheet armetHat_Gold-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet legionHat_Gold-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet maximusHat_Gold-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet pirateHat_Blue-sprite farm-animated" style="display:none;"></div>
                        
                        <!-- Trang b·ªã gƒÉng tay m·ªõi -->
                        <div class="character-sprite-sheet gloves_Black-sprite farm-animated" style="display:none;"></div>
                        
                        <!-- Trang b·ªã gi√†y m·ªõi -->
                        <div class="character-sprite-sheet sandals-sprite farm-animated" style="display:none;"></div>
                        
                        <!-- Trang b·ªã qu·∫ßn √°o m·ªõi -->
                        <div class="character-sprite-sheet legionArmor_Gold-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet maximusArmor_Gold-sprite farm-animated" style="display:none;"></div>
                        <div class="character-sprite-sheet stretchyClothes_Black-sprite farm-animated" style="display:none;"></div>
                    </div>
                </div>
            </div>
            <div id="farm-grid" class="farm-grid">
                <!-- Grid cells will be generated by JavaScript -->
            </div>
        </div>
        
        <div id="plant-menu" class="plant-menu hidden">
            <div class="menu-header">
                <h2>Ch·ªçn c√¢y tr·ªìng</h2>
                <button id="close-menu">‚úï</button>
            </div>
            <div class="plant-options">
                <div class="plant-item" data-plant="Strawberry"><img src="img/plant/Strawberry.png" alt="Strawberry"><span>D√¢u t√¢y</span></div>
                <div class="plant-item" data-plant="Cucumber"><img src="img/plant/Cucumber.png" alt="Cucumber"><span>D∆∞a chu·ªôt</span></div>
                <div class="plant-item" data-plant="Beetroot"><img src="img/plant/Beetroot.png" alt="Beetroot"><span>C·ªß d·ªÅn</span></div>
                <div class="plant-item" data-plant="Potato"><img src="img/plant/Potato.png" alt="Potato"><span>Khoai t√¢y</span></div>
                <div class="plant-item" data-plant="Broccoli"><img src="img/plant/Broccoli.png" alt="Broccoli"><span>B√¥ng c·∫£i xanh</span></div>
                <div class="plant-item" data-plant="Pumpkin"><img src="img/plant/Pumpkin.png" alt="Pumpkin"><span>B√≠ ng√¥</span></div>
                <div class="plant-item" data-plant="Chili"><img src="img/plant/Chili.png" alt="Chili"><span>·ªöt</span></div>
                <div class="plant-item" data-plant="Watermelon"><img src="img/plant/Watermelon.png" alt="Watermelon"><span>D∆∞a h·∫•u</span></div>
                <div class="plant-item" data-plant="Pineapple"><img src="img/plant/Pineapple.png" alt="Pineapple"><span>D·ª©a</span></div>
            </div>
        </div>
        
        <!-- Th√™m b·∫£ng th√†nh t·ª±u -->
        <div id="achievements-panel" class="achievements-panel">
            <div class="achievements-content">
                <div class="achievements-header">
                    <h2>Th√†nh t·ª±u</h2>
                    <button id="close-achievements" class="close-achievements">‚úï</button>
                </div>
                <div class="achievements-list" id="achievements-list">
                    <!-- Danh s√°ch th√†nh t·ª±u s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Th√™m b·∫£ng nhi·ªám v·ª• h√†ng ng√†y -->
        <div id="quests-panel" class="quests-panel">
            <div class="quests-content">
                <div class="quests-header">
                    <h2>Nhi·ªám v·ª• h√†ng ng√†y</h2>
                    <button id="close-quests" class="close-quests">‚úï</button>
                </div>
                <div id="daily-login-streak" class="daily-login-streak">
                    <h3>Chu·ªói ƒëƒÉng nh·∫≠p: <span id="streak-days">0</span> ng√†y</h3>
                    <div id="streak-rewards" class="streak-rewards">
                        <!-- Ph·∫ßn th∆∞·ªüng chu·ªói ƒëƒÉng nh·∫≠p s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                    </div>
                    <button id="claim-streak" class="claim-streak-btn" disabled>Nh·∫≠n th∆∞·ªüng</button>
                </div>
                <div class="quests-list" id="quests-list">
                    <!-- Nhi·ªám v·ª• h√†ng ng√†y s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
            </div>
        </div>
        
        <!-- Th√™m b·∫£ng x·∫øp h·∫°ng -->
        <div id="leaderboard-panel" class="leaderboard-panel">
            <div class="leaderboard-content">
                <div class="leaderboard-header">
                    <h2>B·∫£ng x·∫øp h·∫°ng</h2>
                    <button id="close-leaderboard" class="close-leaderboard">‚úï</button>
                </div>
                <div class="leaderboard-tabs" id="leaderboard-tabs">
                    <!-- Tab b·∫£ng x·∫øp h·∫°ng s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
                <div class="leaderboard-list" id="leaderboard-list">
                    <!-- D·ªØ li·ªáu b·∫£ng x·∫øp h·∫°ng s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
            </div>
        </div>

        <!-- Character Panel -->
        <div id="character-panel" class="character-panel">
            <div class="character-content">
                <div class="character-header">
                    <h2>Nh√¢n v·∫≠t v√† thu·ªôc t√≠nh</h2>
                    <button id="close-character" class="close-character">‚úï</button>
                </div>
                <div class="character-main">
                    <div class="character-equipment-layout">
                        <!-- C√°c √¥ trang b·ªã b√™n tr√°i -->
                        <div class="equipment-left">
                            <div class="equipment-slot" data-type="hat">
                                <div class="equipment-name">M≈©</div>
                            </div>
                            <div class="equipment-slot" data-type="aprons">
                                <div class="equipment-name">Qu·∫ßn √°o</div>
                            </div>
                            <div class="equipment-slot" data-type="effect">
                                <div class="equipment-name">Hi·ªáu ·ª©ng</div>
                            </div>
                        </div>
                        
                        <!-- √î hi·ªÉn th·ªã nh√¢n v·∫≠t ·ªü gi·ªØa -->
                        <div class="character-center">
                            <div class="character-preview">
                                <div id="direct-character-preview" class="direct-character-preview">
                                    <div class="character-sprite-sheet character-base-sprite character-animated"></div>
                                    <div class="character-sprite-sheet aprons-sprite character-animated" style="display:none;"></div>
                                    <div class="character-sprite-sheet boots-sprite character-animated" style="display:none;"></div>
                                    <div class="character-sprite-sheet gloves-sprite character-animated" style="display:none;"></div>
                                    <div class="character-sprite-sheet hat-sprite character-animated" style="display:none;"></div>
                                    <div class="character-sprite-sheet wings-sprite character-animated" style="display:none;"></div>
                                    <div class="character-sprite-sheet blackWings-sprite character-animated" style="display:none;"></div>
                                    <div class="character-sprite-sheet whiteWings-sprite character-animated" style="display:none;"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- C√°c √¥ trang b·ªã b√™n ph·∫£i -->
                        <div class="equipment-right">
                            <div class="equipment-slot" data-type="gloves">
                                <div class="equipment-name">GƒÉng tay</div>
                            </div>
                            <div class="equipment-slot" data-type="boots">
                                <div class="equipment-name">Gi√†y</div>
                            </div>
                            <div class="equipment-slot" data-type="wings">
                                <div class="equipment-name">C√°nh</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="character-stats">
                        <div class="stat-item">
                            <div class="stat-label">Gi·∫£m th·ªùi gian tr·ªìng c√¢y:</div>
                            <div class="stat-value" id="stat-growth-time">0%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">TƒÉng thu ho·∫°ch:</div>
                            <div class="stat-value" id="stat-harvest-bonus">0%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Gi·∫£m gi√° h·∫°t gi·ªëng:</div>
                            <div class="stat-value" id="stat-seed-discount">0%</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-label">Gi·∫£m th·ªùi gian thu ho·∫°ch:</div>
                            <div class="stat-value" id="stat-harvest-time">0%</div>
                        </div>
                    </div>
                    
                    <div class="inventory-section">
                        <h3 class="inventory-header">T√∫i ƒë·ªì</h3>
                        <div class="inventory-items" id="inventory-items">
                            <!-- Inventory items will be filled by JavaScript -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Equipment Detail Popup -->
        <div id="equipment-detail" class="equipment-detail">
            <div class="detail-content">
                <div class="detail-header">
                    <h3 id="detail-title">Chi ti·∫øt trang b·ªã</h3>
                    <button id="close-detail" class="close-detail">‚úï</button>
                </div>
                <div class="detail-main">
                    <div id="detail-image-container" class="detail-image-container">
                        <!-- ƒê√£ thay th·∫ª img b·∫±ng div ƒë·ªÉ s·ª≠ d·ª•ng CSS background -->
                        <div id="detail-image" class="detail-image"></div>
                    </div>
                    <div class="detail-info">
                        <div id="detail-name" class="detail-name">T√™n trang b·ªã</div>
                        <div id="detail-type" class="detail-type">Lo·∫°i trang b·ªã</div>
                        <div id="detail-description" class="detail-description">M√¥ t·∫£ trang b·ªã v√† t√°c d·ª•ng c·ªßa n√≥.</div>
                    </div>
                </div>
                <div class="detail-effects" id="detail-effects">
                    <!-- Effects will be added dynamically -->
                </div>
                <div class="detail-actions" id="detail-actions">
                    <button id="equip-button" class="equip-btn">Trang b·ªã</button>
                </div>
            </div>
        </div>

        <!-- Shop Panel -->
        <div id="shop-panel" class="shop-panel">
            <div class="shop-content">
                <div class="shop-header">
                    <h2>C·ª¨A H√ÄNG</h2>
                    <button id="close-shop" class="close-shop">‚úï</button>
                </div>
                <div class="shop-tabs" id="shop-tabs">
                    <!-- Tab c·ª≠a h√†ng s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
                <div class="shop-items" id="shop-items">
                    <!-- Danh s√°ch s·∫£n ph·∫©m c·ª≠a h√†ng s·∫Ω ƒë∆∞·ª£c t·∫°o b·∫±ng JavaScript -->
                </div>
            </div>
        </div>

    </div>

    <script type="module" src="js/game.js"></script>
</body>
</html>